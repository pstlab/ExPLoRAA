<div class="row h-100 row-cols-2">
    <div class="col-sm-3">
        <div class="row align-items-center">
            <div class="col d-flex justify-content-start">
                <h6>Argomenti</h6>
            </div>
            <div class="col d-flex justify-content-end">
                <a role="button" class="btn btn-sm btn-secondary" data-bs-toggle="modal"
                    data-bs-target="#new-model-modal"><i class="bi bi-folder-plus"></i></a>
            </div>
        </div>
        <div class="row h-100">
            <div class="list-group list-group-flush overflow-auto" id="models-list" role="tablist">
            </div>
        </div>
    </div>
    <div class="col-sm">
        <div class="tab-content h-100" id="create-content">
            <div class="tab-pane fade body-panel h-100" id="model" role="tabpanel">
                <div class="row h-100 row-cols-2">
                    <div class="col-sm">
                        <div class="tab-content h-100" id="rule-content">
                            <div class="tab-pane fade body-panel h-100" id="rule" role="tabpanel">
                                <form>
                                    <div class="row row-cols-3 my-1">
                                        <div class="col-sm-1">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="rule-id" placeholder="Id"
                                                    disabled>
                                                <label for="rule-id">Id</label>
                                            </div>
                                        </div>
                                        <div class="col-sm">
                                            <div class="form-floating">
                                                <input type="text" class="form-control" id="rule-name"
                                                    placeholder="Nome">
                                                <label for="rule-name">Nome</label>
                                            </div>
                                        </div>
                                        <div class="col-sm-2">
                                            <div class="form-floating">
                                                <select class="form-select" id="rule-type"
                                                    aria-label="Tipo di obiettivo">
                                                    <option value="1">Testo</option>
                                                    <option value="2">Pagina Web</option>
                                                    <option value="3">Pagina Wikipedia</option>
                                                </select>
                                                <label for="rule-type">Tipo</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-floating my-1 d-none" id='rule-url-div'>
                                        <input type="url" class="form-control" id="rule-url" placeholder="URL">
                                        <label for="rule-url">URL</label>
                                    </div>
                                    <hr>
                                    <div class="row h-75">
                                        <h6>Argomenti trattati:</h6>
                                        <div class="col" id="topics-list" style="max-height:150px;overflow:auto;">
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="form-floating">
                                        <input type="number" class="form-control" id="rule-length" placeholder="Nome">
                                        <label for="rule-length">Durata</label>
                                    </div>
                                    <hr>
                                    <div class="row align-items-center">
                                        <div class="col d-flex justify-content-start">
                                            <h6>Precondizioni:</h6>
                                        </div>
                                        <div class="col d-flex justify-content-end">
                                            <a role="button" class="btn btn-sm btn-secondary" data-bs-toggle="modal"
                                                data-bs-target="#new-precondition-modal"><i
                                                    class="bi bi-folder-plus"></i></a>
                                        </div>
                                    </div>
                                    <div class="row h-25">
                                        <div class="list-group list-group-flush overflow-auto" id="preconditions-list"
                                            style="max-height:200px;overflow:auto;">
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="row align-items-center">
                            <div class="col d-flex justify-content-start">
                                <h6>Obiettivi di apprendimento</h6>
                            </div>
                            <div class="col d-flex justify-content-end">
                                <a role="button" class="btn btn-sm btn-secondary" data-bs-toggle="modal"
                                    data-bs-target="#new-rule-modal"><i class="bi bi-folder-plus"></i></a>
                            </div>
                        </div>
                        <div class="row h-100">
                            <div class="list-group list-group-flush overflow-auto" id="rules-list" role="tablist">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="new-model-modal" tabindex="-1" aria-labelledby="new-model-modal-label" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="new-model-modal-label">Nuovo argomento</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input class="form-control" type="text" placeholder="Nome argomento" id="new-template-name">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-primary" data-bs-dismiss="modal"
                    id="create-new-model">Crea</button>
                <script type="module">
                    import * as create from './create.js'

                    document.querySelector('#create-new-model').addEventListener('click', create.create_new_model);
                </script>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="new-rule-modal" tabindex="-1" aria-labelledby="new-rule-modal-label" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="new-rule-modal-label">Nuovo obiettivo</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row row-cols-2 my-1">
                    <div class="col-sm">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="new-rule-name" placeholder="Nome">
                            <label for="new-rule-name">Nome</label>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="form-floating">
                            <select class="form-select" id="new-rule-type" aria-label="Tipo di obiettivo">
                                <option value="1">Testo</option>
                                <option value="2">Pagina Web</option>
                                <option value="3">Pagina Wikipedia</option>
                            </select>
                            <label for="new-rule-type">Tipo</label>
                        </div>
                    </div>
                </div>
                <div class="form-floating my-1 d-none" id='new-rule-url-div'>
                    <input type="url" class="form-control" id="new-rule-url" placeholder="URL">
                    <label for="new-rule-url">URL</label>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-primary" data-bs-dismiss="modal"
                    id="create-new-rule">Crea</button>
                <script type="module">
                    import * as create from './create.js'

                    document.querySelector('#create-new-rule').addEventListener('click', create.create_new_rule);
                </script>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="new-precondition-modal" tabindex="-1" aria-labelledby="new-precondition-modal-label"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="new-precondition-modal-label">Nuove precondizioni</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="form-floating">
                    <select class="form-select" id="new-precondition-type" aria-label="Tipo di obiettivo">
                        <option value="1">Suggerite</option>
                        <option value="2">Esistenti</option>
                        <option value="3">Nuovo obiettivo</option>
                    </select>
                    <label for="new-precondition-type">Tipo</label>
                </div>

                <div class="row h-25 my-1" id="suggested-preconditions-list-div">
                    <div class="list-group list-group-flush overflow-auto" id="suggested-preconditions-list"
                        style="max-height:260px;overflow:auto;">
                    </div>
                </div>
                <div class="row h-25 my-1 d-none" id="existing-preconditions-list-div">
                    <div class="list-group list-group-flush overflow-auto" id="existing-preconditions-list"
                        style="max-height:260px;overflow:auto;">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-sm btn-primary" data-bs-dismiss="modal"
                    id="create-new-precondition">Crea</button>
                <script type="module">
                    import * as create from './create.js'

                    document.querySelector('#create-new-precondition').addEventListener('click', create.create_new_precondition);
                </script>
            </div>
        </div>
    </div>
</div>

<template id="model-row">
    <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" id="model-"
        type="button" data-bs-toggle="tab" data-bs-target="#model">
        <div class="col d-flex justify-content-start align-items-center"></div>
        <div class="col d-flex justify-content-end"><a role="button" class="btn btn-sm btn-secondary"><i
                    class="bi bi-folder-minus"></i></a></div>
    </div>
</template>

<template id="topic-row">
    <div class="form-check form-switch">
        <input type="checkbox" class="form-check-input" id="topic-">
        <label for="topic-" class="form-check-label"></label>
    </div>
</template>

<template id="suggested-precondition-row">
    <div class="list-group-item list-group-item-action custom-control custom-checkbox align-items-center"><input
            class="me-2" id="suggestion-" type="checkbox" suggestion_id=""><label for="suggestion-"></label></div>
</template>

<template id="rule-row">
    <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center" id="rule-"
        type="button" data-bs-toggle="tab" data-bs-target="#rule">
        <div class="col d-flex justify-content-start align-items-center"></div>
    </div>
</template>